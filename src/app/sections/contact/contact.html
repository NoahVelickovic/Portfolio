<section class="contact-form">
  <form #contactForm="ngForm" (ngSubmit)="onSubmit(contactForm)" novalidate>
    <div class="form-flex">
      <div>
        <div class="form-group">
          <input
            type="text"
            name="name"
            [placeholder]="'contact.name' | translate"
            ngModel
            #nameCtrl="ngModel"
            required
            minlength="2"
            [class.invalid]="
              nameCtrl.invalid && (nameCtrl.dirty || nameCtrl.touched || contactForm.submitted)
            "
          />
          <div
            class="error"
            *ngIf="
              nameCtrl.invalid && (nameCtrl.dirty || nameCtrl.touched || contactForm.submitted)
            "
          >
            <span *ngIf="nameCtrl.errors?.['required']">{{
              'contact.errors.nameRequired' | translate
            }}</span>
          </div>
        </div>
<div class="form-group">
<input
  type="email"
  name="email"
  [placeholder]="'contact.email' | translate"
  ngModel
  #emailCtrl="ngModel"
  required
  autocomplete="email"
  pattern="^[^\s@]+@[^\s@]+\.[^\s@]{2,}$"
  [class.invalid]="emailCtrl.invalid && (emailCtrl.touched || contactForm.submitted)"
/>

<div class="error" *ngIf="emailCtrl.invalid && (emailCtrl.touched || contactForm.submitted)">
  <span *ngIf="emailCtrl.errors?.['required']">
    {{ 'contact.errors.emailRequired' | translate }}
  </span>
  <span *ngIf="emailCtrl.errors?.['email'] || emailCtrl.errors?.['pattern']">
    {{ 'contact.errors.emailInvalid' | translate }}
  </span>
</div>
</div>
      </div>
      <div class="form-group-big">
        <textarea
          name="message"
          rows="5"
          [placeholder]="'contact.message' | translate"
          ngModel
          #messageCtrl="ngModel"
          required
          minlength="10"
          [class.invalid]="
            messageCtrl.invalid &&
            (messageCtrl.dirty || messageCtrl.touched || contactForm.submitted)
          "
        ></textarea>
        <div
          class="error"
          *ngIf="
            messageCtrl.invalid &&
            (messageCtrl.dirty || messageCtrl.touched || contactForm.submitted)
          "
        >
          <span *ngIf="messageCtrl.errors?.['required']">{{
            'contact.errors.messageRequired' | translate
          }}</span>
          <span *ngIf="messageCtrl.errors?.['minlength']">{{
            'contact.errors.messageMin' | translate : { min: 10 }
          }}</span>
        </div>
      </div>
    </div>

    <div class="submit-flex">

      <div class="form-group-checkbox">
        <input
          type="checkbox"
          id="privacy"
          name="privacy"
          ngModel
          #privacyCtrl="ngModel"
          required
          class="checkbox"
        />
        <label for="privacy">
          {{ 'contact.privacy.part1' | translate }}
          &nbsp;<a href="/privacy">{{ 'contact.privacy.part2' | translate }}</a
          >&nbsp;
          {{ 'contact.privacy.part3' | translate }}
        </label>
      </div>
      <div class="error" *ngIf="privacyCtrl.invalid && contactForm.submitted">
        {{ 'contact.errors.privacyRequired' | translate }}
      </div>
      <button type="submit" class="send-btn" [disabled]="!contactForm.valid">
        {{ 'contact.send' | translate }}
      </button>
    </div>
  </form>
</section>
<div class="toast" [class.show]="toastVisible()">
  {{ 'contact.toast' | translate }}
</div>
